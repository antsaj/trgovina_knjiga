import{_ as b,b as p,r as s,o as V,d as k,w as a,e as t,f as g,g as _,h as c}from"./index-0583e027.js";const F={data(){return{loginForm:{email:"",password:""},registerForm:{name:"",email:"",password:""}}},methods:{login(){p.post("http://localhost:8000/api/login",this.loginForm).then(o=>{console.log("Response data:",o.data),localStorage.setItem("token",o.data.token),localStorage.setItem("userEmail",o.data.user.email),localStorage.setItem("isAdmin",o.data.isAdmin.toString()),this.$router.push("/")}).catch(o=>{console.error("Pogreška pri prijavi:",o)})},register(){p.post("http://localhost:8000/api/register",this.registerForm).then(o=>{const e=o.data.token;e&&localStorage.setItem("token",e),alert("Registracija uspješna!"),this.$router.push("/")}).catch(o=>{alert("Greška prilikom registracije!"),console.error("Greška prilikom registracije:",o.response?o.response.data:o.message)})}}};function w(o,e,j,x,l,n){const i=s("v-text-field"),m=s("v-btn"),d=s("v-form"),u=s("v-col"),f=s("v-row"),v=s("v-container");return V(),k(v,null,{default:a(()=>[t(f,null,{default:a(()=>[t(u,{cols:"12",md:"6"},{default:a(()=>[e[6]||(e[6]=g("h2",null,"Prijava",-1)),t(d,{onSubmit:_(n.login,["prevent"])},{default:a(()=>[t(i,{label:"Email",modelValue:l.loginForm.email,"onUpdate:modelValue":e[0]||(e[0]=r=>l.loginForm.email=r),required:""},null,8,["modelValue"]),t(i,{label:"Lozinka",modelValue:l.loginForm.password,"onUpdate:modelValue":e[1]||(e[1]=r=>l.loginForm.password=r),type:"password",required:""},null,8,["modelValue"]),t(m,{type:"submit",color:"primary"},{default:a(()=>e[5]||(e[5]=[c("Prijava")])),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(u,{cols:"12",md:"6"},{default:a(()=>[e[8]||(e[8]=g("h2",null,"Registracija",-1)),t(d,{onSubmit:_(n.register,["prevent"])},{default:a(()=>[t(i,{label:"Ime",modelValue:l.registerForm.name,"onUpdate:modelValue":e[2]||(e[2]=r=>l.registerForm.name=r),required:""},null,8,["modelValue"]),t(i,{label:"Email",modelValue:l.registerForm.email,"onUpdate:modelValue":e[3]||(e[3]=r=>l.registerForm.email=r),required:""},null,8,["modelValue"]),t(i,{label:"Lozinka",modelValue:l.registerForm.password,"onUpdate:modelValue":e[4]||(e[4]=r=>l.registerForm.password=r),type:"password",required:""},null,8,["modelValue"]),t(m,{type:"submit",color:"primary"},{default:a(()=>e[7]||(e[7]=[c("Registracija")])),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}const y=b(F,[["render",w],["__scopeId","data-v-2b5b9b11"]]);export{y as default};
